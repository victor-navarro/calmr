<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="calmr">
<title>Getting started with calmr • calmr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with calmr">
<meta property="og:description" content="calmr">
<meta property="og:image" content="https://victornavarro.org/calmr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">calmr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/calmr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Model reference</h6>
    <a class="dropdown-item" href="../articles/model_parameters.html">Model Parameters</a>
    <a class="dropdown-item" href="../articles/RW1972.html">RW1972</a>
    <a class="dropdown-item" href="../articles/MAC1975.html">MAC1975</a>
    <a class="dropdown-item" href="../articles/PKH1982.html">PKH1982</a>
    <a class="dropdown-item" href="../articles/SM2007.html">SM2007</a>
    <a class="dropdown-item" href="../articles/HD2022.html">HD2022</a>
    <a class="dropdown-item" href="../articles/ANCCR.html">ANCCR</a>
    <a class="dropdown-item" href="../articles/TD.html">TD</a>
    <a class="dropdown-item" href="../articles/RAND.html">RAND</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Demos</h6>
    <a class="dropdown-item" href="../articles/calmr_app.html">calmr_app</a>
    <a class="dropdown-item" href="../articles/calmr_fits.html">calmr_fits</a>
    <a class="dropdown-item" href="../articles/heidi_similarity.html">heidi_similarity</a>
    <a class="dropdown-item" href="../articles/using_time_models.html">using_time_models</a>
    <a class="dropdown-item" href="../articles/parallelism_in_calmr.html">parallelism_in_calmr</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/victor-navarro/calmr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started with calmr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/victor-navarro/calmr/blob/HEAD/vignettes/calmr.Rmd" class="external-link"><code>vignettes/calmr.Rmd</code></a></small>
      <div class="d-none name"><code>calmr.Rmd</code></div>
    </div>

    
    
<p>To perform your first simulation you will need:</p>
<ol style="list-style-type: decimal">
<li>A <code>data.frame</code> specifying the experiment design, and</li>
<li>A list with the parameters for the model you will be using.</li>
</ol>
<div class="section level2">
<h2 id="the-design-data-frame">The design data.frame<a class="anchor" aria-label="anchor" href="#the-design-data-frame"></a>
</h2>
<p>Let’s specify a blocking design.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/victor-navarro/calmr" class="external-link">calmr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'calmr'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     parse</span></span>
<span><span class="va">my_blocking</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Exp"</span>, <span class="st">"Control"</span><span class="op">)</span>,</span>
<span>  Phase1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10A(US)"</span>, <span class="st">"10C(US)"</span><span class="op">)</span>,</span>
<span>  R1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  Phase2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10AB(US)"</span>, <span class="st">"10AB(US)"</span><span class="op">)</span>,</span>
<span>  R2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  Test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1#A/1#B"</span>, <span class="st">"1#A/1#B"</span><span class="op">)</span>,</span>
<span>  R3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># parsing the design and showing the original and what was detected</span></span>
<span><span class="va">parsed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/parse_design.html">parse_design</a></span><span class="op">(</span><span class="va">my_blocking</span><span class="op">)</span></span>
<span><span class="va">parsed</span></span>
<span><span class="co">#&gt; CalmrDesign built from data.frame:</span></span>
<span><span class="co">#&gt;     Group  Phase1    R1   Phase2    R2    Test    R3</span></span>
<span><span class="co">#&gt; 1     Exp 10A(US) FALSE 10AB(US) FALSE 1#A/1#B FALSE</span></span>
<span><span class="co">#&gt; 2 Control 10C(US) FALSE 10AB(US) FALSE 1#A/1#B FALSE</span></span>
<span><span class="co">#&gt; ----------------</span></span>
<span><span class="co">#&gt; Trials detected:</span></span>
<span><span class="co">#&gt;     group  phase trial_names trial_repeats is_test stimuli</span></span>
<span><span class="co">#&gt; 1     Exp Phase1       A(US)            10   FALSE    A;US</span></span>
<span><span class="co">#&gt; 2     Exp Phase2      AB(US)            10   FALSE  A;B;US</span></span>
<span><span class="co">#&gt; 3     Exp   Test          #A             1    TRUE       A</span></span>
<span><span class="co">#&gt; 4     Exp   Test          #B             1    TRUE       B</span></span>
<span><span class="co">#&gt; 5 Control Phase1       C(US)            10   FALSE    C;US</span></span>
<span><span class="co">#&gt; 6 Control Phase2      AB(US)            10   FALSE  A;B;US</span></span>
<span><span class="co">#&gt; 7 Control   Test          #A             1    TRUE       A</span></span>
<span><span class="co">#&gt; 8 Control   Test          #B             1    TRUE       B</span></span></code></pre></div>
<p>A few rules about the design data.frame:</p>
<ol style="list-style-type: decimal">
<li>Each row represents a group.</li>
<li>The first column contains the group labels.</li>
<li>The remaining columns are organized in pairs (trials in a phase, and
whether to randomize them)</li>
</ol>
<p>The trials in each phase column are specified using a very rigid
notation. A few observations about it:</p>
<ol style="list-style-type: decimal">
<li>Trials are preceded by a number. That number represents the number
of times that trial will be given in each phase. “10A(US)” means that
the “A(US)” trial will be given 10 times.</li>
<li>The presence and absence of the unconditioned stimulus are not
denoted with the traditional “+” and “-” symbols. Instead, here we use
parenthesis to denote “complex” stimuli. These can be thought of as an
element with a complex name (i.e., with more than one character). As
such, “(US)” specifies a single element to represent the US.</li>
<li>In the same vein, multiple characters with no parentheses denote
individual elements. For example, “AB” implies the presence of two
stimuli, A and B.</li>
<li>The “/” character is used as a trial separator (it does not imply
randomization by itself). Thus, “1A/1B” specifies that a single “A”
trial and a single “B” trial will be given during that phase. Recall
that randomization of trials within a phase is specified by the column
after it (above, R1, R2, and R3).</li>
<li>The “#” character is used to denote probe trials. In contrast to
real life, probe trials here entail no update of the model’s
associations. As such, probe trials can be used to track the development
of key associations, with no repercussion to what the model learns on
normal training trials.</li>
</ol>
<p>If you want to check whether your phase string will work with the
package, you can use <code><a href="../reference/phase_parser.html">phase_parser()</a></code>. Warning: The function
returns a list with a lot of information used by the models in the
package, but the rule of thumb is that if you see a ton of text, your
phase string is working.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># not specifying the number of AB trials. Error!</span></span>
<span><span class="fu"><a href="../reference/phase_parser.html">phase_parser</a></span><span class="op">(</span><span class="st">"AB/10AC"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in if (is.na(treps)) 1 else treps: argument is of length zero</span></span>
<span><span class="co"># putting the probe symbol out of order. Error!</span></span>
<span><span class="fu"><a href="../reference/phase_parser.html">phase_parser</a></span><span class="op">(</span><span class="st">"#10A"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in if (is.na(treps)) 1 else treps: argument is of length zero</span></span>
<span><span class="co"># considering a configural cue for elements AB</span></span>
<span><span class="va">trial</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phase_parser.html">phase_parser</a></span><span class="op">(</span><span class="st">"10AB(AB)(US)"</span><span class="op">)</span></span>
<span><span class="co"># different USs</span></span>
<span><span class="va">trial</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phase_parser.html">phase_parser</a></span><span class="op">(</span><span class="st">"10A(US1)/10B(US2)"</span><span class="op">)</span></span>
<span><span class="co"># tons of information! Phase parser is meant for internal use only.</span></span>
<span><span class="co"># you are better of using `parse_design()` on a design `data.frame`</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trial</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 2</span></span>
<span><span class="co">#&gt;  $ trial_info  :List of 2</span></span>
<span><span class="co">#&gt;   ..$ 10A(US1):List of 8</span></span>
<span><span class="co">#&gt;   .. ..$ name           : chr "A(US1)"</span></span>
<span><span class="co">#&gt;   .. ..$ repetitions    : num 10</span></span>
<span><span class="co">#&gt;   .. ..$ is_test        : logi FALSE</span></span>
<span><span class="co">#&gt;   .. ..$ periods        : chr "A(US1)"</span></span>
<span><span class="co">#&gt;   .. ..$ nominals       :List of 1</span></span>
<span><span class="co">#&gt;   .. .. ..$ A(US1): chr [1:2] "A" "US1"</span></span>
<span><span class="co">#&gt;   .. ..$ functionals    :List of 1</span></span>
<span><span class="co">#&gt;   .. .. ..$ A(US1): chr [1:2] "A" "US1"</span></span>
<span><span class="co">#&gt;   .. ..$ all_nominals   : chr [1:2] "A" "US1"</span></span>
<span><span class="co">#&gt;   .. ..$ all_functionals: chr [1:2] "A" "US1"</span></span>
<span><span class="co">#&gt;   ..$ 10B(US2):List of 8</span></span>
<span><span class="co">#&gt;   .. ..$ name           : chr "B(US2)"</span></span>
<span><span class="co">#&gt;   .. ..$ repetitions    : num 10</span></span>
<span><span class="co">#&gt;   .. ..$ is_test        : logi FALSE</span></span>
<span><span class="co">#&gt;   .. ..$ periods        : chr "B(US2)"</span></span>
<span><span class="co">#&gt;   .. ..$ nominals       :List of 1</span></span>
<span><span class="co">#&gt;   .. .. ..$ B(US2): chr [1:2] "B" "US2"</span></span>
<span><span class="co">#&gt;   .. ..$ functionals    :List of 1</span></span>
<span><span class="co">#&gt;   .. .. ..$ B(US2): chr [1:2] "B" "US2"</span></span>
<span><span class="co">#&gt;   .. ..$ all_nominals   : chr [1:2] "B" "US2"</span></span>
<span><span class="co">#&gt;   .. ..$ all_functionals: chr [1:2] "B" "US2"</span></span>
<span><span class="co">#&gt;  $ general_info:List of 5</span></span>
<span><span class="co">#&gt;   ..$ trial_names  : chr [1:2] "A(US1)" "B(US2)"</span></span>
<span><span class="co">#&gt;   ..$ trial_repeats: num [1:2] 10 10</span></span>
<span><span class="co">#&gt;   ..$ is_test      : logi [1:2] FALSE FALSE</span></span>
<span><span class="co">#&gt;   ..$ nomi2func    : Named chr [1:4] "A" "US1" "B" "US2"</span></span>
<span><span class="co">#&gt;   .. ..- attr(*, "names")= chr [1:4] "A" "US1" "B" "US2"</span></span>
<span><span class="co">#&gt;   ..$ func2nomi    : Named chr [1:4] "A" "US1" "B" "US2"</span></span>
<span><span class="co">#&gt;   .. ..- attr(*, "names")= chr [1:4] "A" "US1" "B" "US2"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-parameters-list">The parameters list<a class="anchor" aria-label="anchor" href="#the-parameters-list"></a>
</h2>
<p>Now we need to pick a model and its parameters.</p>
<p>To get the models currently supported in <code>calmr</code>, you can
call <code><a href="../reference/model_information.html">supported_models()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/model_information.html">supported_models</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "HDI2020" "HD2022"  "RW1972"  "MAC1975" "PKH1982" "SM2007"  "RAND"   </span></span>
<span><span class="co">#&gt; [8] "ANCCR"   "TD"</span></span></code></pre></div>
<p>After choosing a model, you can get some default parameters for your
design with <code><a href="../reference/get_parameters.html">get_parameters()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parameters.html">get_parameters</a></span><span class="op">(</span><span class="va">my_blocking</span>, model <span class="op">=</span> <span class="st">"RW1972"</span><span class="op">)</span></span>
<span><span class="co"># Increasing the beta parameter for US presentations</span></span>
<span><span class="va">my_pars</span><span class="op">$</span><span class="va">betas_on</span><span class="op">[</span><span class="st">"US"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">.6</span></span>
<span><span class="va">my_pars</span></span>
<span><span class="co">#&gt; $alphas</span></span>
<span><span class="co">#&gt;   A   B   C  US </span></span>
<span><span class="co">#&gt; 0.4 0.4 0.4 0.4 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $betas_on</span></span>
<span><span class="co">#&gt;   A   B   C  US </span></span>
<span><span class="co">#&gt; 0.4 0.4 0.4 0.6 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $betas_off</span></span>
<span><span class="co">#&gt;   A   B   C  US </span></span>
<span><span class="co">#&gt; 0.4 0.4 0.4 0.4 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lambdas</span></span>
<span><span class="co">#&gt;  A  B  C US </span></span>
<span><span class="co">#&gt;  1  1  1  1</span></span></code></pre></div>
<p>For a reference on how each model is parametrized, check out the
model’s reference page. For example, the reference page for the “RW1972”
model is <a href="RW1972.html">here</a>.</p>
<p>Or, if that many equations tire your eyes, you can consult the <a href="model_parameters.html">model parameter reference</a>.</p>
<div class="section level3">
<h3 id="simulating">Simulating<a class="anchor" aria-label="anchor" href="#simulating"></a>
</h3>
<p>With all of the above, we can run our simulation using the
<code><a href="../reference/run_experiment.html">run_experiment()</a></code> function. This function also takes extra
arguments to manipulate the number of iterations to run the experiment
for (important for designs with randomized trials), whether to organize
trials in miniblocks, and extra configuration for more complex models
(see the help page for <code><a href="../reference/make_experiment.html">make_experiment()</a></code> for additional
details).</p>
<p>Below, we keep it simple and run the experiment for a single
iteration.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_experiment</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_experiment.html">run_experiment</a></span><span class="op">(</span></span>
<span>  <span class="va">my_blocking</span>, <span class="co"># note we do not need to pass the parsed design</span></span>
<span>  model <span class="op">=</span> <span class="st">"RW1972"</span>,</span>
<span>  parameters <span class="op">=</span> <span class="va">my_pars</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># returns a `CalmrExperiment` object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">my_experiment</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "CalmrExperiment"</span></span>
<span><span class="co">#&gt; attr(,"package")</span></span>
<span><span class="co">#&gt; [1] "calmr"</span></span>
<span><span class="co"># CalmrExperiment is an S4 class, so it has slots</span></span>
<span><span class="fu">slotNames</span><span class="op">(</span><span class="va">my_experiment</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "design"      "model"       "groups"      "parameters"  "timings"    </span></span>
<span><span class="co">#&gt;  [6] "experiences" "results"     ".model"      ".group"      ".iter"</span></span>
<span><span class="co"># some of the experience given to group Exp on the first (and only) iteration</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">my_experiment</span><span class="op">@</span><span class="va">experiences</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;    model group  phase tp    tn is_test block_size trial</span></span>
<span><span class="co">#&gt; 1 RW1972   Exp Phase1  1 A(US)   FALSE          1     1</span></span>
<span><span class="co">#&gt; 2 RW1972   Exp Phase1  1 A(US)   FALSE          1     2</span></span>
<span><span class="co">#&gt; 3 RW1972   Exp Phase1  1 A(US)   FALSE          1     3</span></span>
<span><span class="co">#&gt; 4 RW1972   Exp Phase1  1 A(US)   FALSE          1     4</span></span>
<span><span class="co">#&gt; 5 RW1972   Exp Phase1  1 A(US)   FALSE          1     5</span></span>
<span><span class="co">#&gt; 6 RW1972   Exp Phase1  1 A(US)   FALSE          1     6</span></span>
<span><span class="co"># the number of times we ran the model (groups x iterations)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="../reference/CalmrExperiment-methods.html">experiences</a></span><span class="op">(</span><span class="va">my_experiment</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co"># an experiment has results with different levels of aggregation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">my_experiment</span><span class="op">@</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "CalmrExperimentResult"</span></span>
<span><span class="co">#&gt; attr(,"package")</span></span>
<span><span class="co">#&gt; [1] "calmr"</span></span>
<span><span class="fu">slotNames</span><span class="op">(</span><span class="va">my_experiment</span><span class="op">@</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "aggregated_results" "parsed_results"     "raw_results"</span></span>
<span><span class="co"># shorthand method to access aggregated_results</span></span>
<span><span class="fu"><a href="../reference/CalmrExperiment-methods.html">results</a></span><span class="op">(</span><span class="va">my_experiment</span><span class="op">)</span></span>
<span><span class="co">#&gt; $associations</span></span>
<span><span class="co">#&gt;        group  phase trial_type trial block_size     s1     s2     value  model</span></span>
<span><span class="co">#&gt;       &lt;char&gt; &lt;char&gt;     &lt;char&gt; &lt;int&gt;      &lt;num&gt; &lt;char&gt; &lt;char&gt;     &lt;num&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;   1:     Exp Phase1      A(US)     1          1      A      A 0.0000000 RW1972</span></span>
<span><span class="co">#&gt;   2:     Exp Phase1      A(US)     1          1      A      B 0.0000000 RW1972</span></span>
<span><span class="co">#&gt;   3:     Exp Phase1      A(US)     1          1      A      C 0.0000000 RW1972</span></span>
<span><span class="co">#&gt;   4:     Exp Phase1      A(US)     1          1      A     US 0.0000000 RW1972</span></span>
<span><span class="co">#&gt;   5:     Exp Phase1      A(US)     1          1      B      A 0.0000000 RW1972</span></span>
<span><span class="co">#&gt;  ---                                                                          </span></span>
<span><span class="co">#&gt; 700: Control   Test         #B    22          2      C     US 0.9939534 RW1972</span></span>
<span><span class="co">#&gt; 701: Control   Test         #B    22          2     US      A 0.4999999 RW1972</span></span>
<span><span class="co">#&gt; 702: Control   Test         #B    22          2     US      B 0.4999999 RW1972</span></span>
<span><span class="co">#&gt; 703: Control   Test         #B    22          2     US      C 0.6626356 RW1972</span></span>
<span><span class="co">#&gt; 704: Control   Test         #B    22          2     US     US 0.0000000 RW1972</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $responses</span></span>
<span><span class="co">#&gt;        group  phase trial_type trial block_size     s1     s2 value  model</span></span>
<span><span class="co">#&gt;       &lt;char&gt; &lt;char&gt;     &lt;char&gt; &lt;int&gt;      &lt;num&gt; &lt;char&gt; &lt;char&gt; &lt;num&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;   1:     Exp Phase1      A(US)     1          1      A      A     0 RW1972</span></span>
<span><span class="co">#&gt;   2:     Exp Phase1      A(US)     1          1      A      B     0 RW1972</span></span>
<span><span class="co">#&gt;   3:     Exp Phase1      A(US)     1          1      A      C     0 RW1972</span></span>
<span><span class="co">#&gt;   4:     Exp Phase1      A(US)     1          1      A     US     0 RW1972</span></span>
<span><span class="co">#&gt;   5:     Exp Phase1      A(US)     1          1      B      A     0 RW1972</span></span>
<span><span class="co">#&gt;  ---                                                                      </span></span>
<span><span class="co">#&gt; 700: Control   Test         #B    22          2      C     US     0 RW1972</span></span>
<span><span class="co">#&gt; 701: Control   Test         #B    22          2     US      A     0 RW1972</span></span>
<span><span class="co">#&gt; 702: Control   Test         #B    22          2     US      B     0 RW1972</span></span>
<span><span class="co">#&gt; 703: Control   Test         #B    22          2     US      C     0 RW1972</span></span>
<span><span class="co">#&gt; 704: Control   Test         #B    22          2     US     US     0 RW1972</span></span></code></pre></div>
<p>If you are an advanced R user you will be able to dig into the data
straight away. However, the package also includes some methods to get a
quick look at the results.</p>
</div>
</div>
<div class="section level2">
<h2 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a>
</h2>
<p>Let’s use <code>plot</code> method to create some plots. Each model
supports different types of plots according to the results they can
produce (e.g., associations, responses, saliences, etc.)</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get all the plots for the experiment</span></span>
<span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CalmrExperiment-methods.html">plot</a></span><span class="op">(</span><span class="va">my_experiment</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">plots</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Exp - Association Strength (RW1972)"    </span></span>
<span><span class="co">#&gt; [2] "Control - Association Strength (RW1972)"</span></span>
<span><span class="co">#&gt; [3] "Exp - Response Strength (RW1972)"       </span></span>
<span><span class="co">#&gt; [4] "Control - Response Strength (RW1972)"</span></span>
<span><span class="co"># or get a specific type of plot</span></span>
<span><span class="va">specific_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CalmrExperiment-methods.html">plot</a></span><span class="op">(</span><span class="va">my_experiment</span>, type <span class="op">=</span> <span class="st">"associations"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">specific_plot</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Exp - Association Strength (RW1972)"    </span></span>
<span><span class="co">#&gt; [2] "Control - Association Strength (RW1972)"</span></span>
<span><span class="co"># show which plots are supported by the model we are using</span></span>
<span><span class="fu"><a href="../reference/model_information.html">supported_plots</a></span><span class="op">(</span><span class="st">"RW1972"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "associations" "responses"</span></span></code></pre></div>
<p>In this case, the RW model supports both associations (associations)
and responses (responses).</p>
<div class="section level3">
<h3 id="stimulus-associations">Stimulus associations<a class="anchor" aria-label="anchor" href="#stimulus-associations"></a>
</h3>
<p>The columns in the plots below are the phases of the design and the
rows denote the source of the association.</p>
<p>The colors within each panel determine the target of the association.
For example, associations towards the US are shown in yellow.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/CalmrExperiment-methods.html">plot</a></span><span class="op">(</span><span class="va">my_experiment</span>, type <span class="op">=</span> <span class="st">"associations"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`Exp - Association Strength (RW1972)`</span></span></code></pre></div>
<p><img src="calmr_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Control - Association Strength (RW1972)`</span></span></code></pre>
<p><img src="calmr_files/figure-html/unnamed-chunk-8-2.png" width="672"></p>
</div>
<div class="section level3">
<h3 id="responding">Responding<a class="anchor" aria-label="anchor" href="#responding"></a>
</h3>
<p>Fairly similar to the above, but responding is a function of the
stimuli presented in each trial.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/CalmrExperiment-methods.html">plot</a></span><span class="op">(</span><span class="va">my_experiment</span>, type <span class="op">=</span> <span class="st">"responses"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`Exp - Response Strength (RW1972)`</span></span></code></pre></div>
<p><img src="calmr_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Control - Response Strength (RW1972)`</span></span></code></pre>
<p><img src="calmr_files/figure-html/unnamed-chunk-9-2.png" width="672"></p>
</div>
</div>
<div class="section level2">
<h2 id="graphing">Graphing<a class="anchor" aria-label="anchor" href="#graphing"></a>
</h2>
<p>You can also take a look at the state of the model’s associations at
any point during the experiment, using the <code>graph</code> method.
The graphs are created using the <code>ggnetwork</code> package.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># some general options for ggnetwork</span></span>
<span><span class="va">my_graph_opts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calmr_model_graph.html">get_graph_opts</a></span><span class="op">(</span><span class="st">"small"</span><span class="op">)</span></span>
<span><span class="co"># passing the argument t to specify the trial we're interested in.</span></span>
<span><span class="co"># end of acquisition</span></span>
<span><span class="fu"><a href="../reference/calmr_model_graph.html">patch_graphs</a></span><span class="op">(</span><span class="fu"><a href="../reference/CalmrExperiment-methods.html">graph</a></span><span class="op">(</span><span class="va">my_experiment</span>, t <span class="op">=</span> <span class="fl">10</span>, options <span class="op">=</span> <span class="va">my_graph_opts</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="calmr_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># end of blocking</span></span>
<span><span class="fu"><a href="../reference/calmr_model_graph.html">patch_graphs</a></span><span class="op">(</span><span class="fu"><a href="../reference/CalmrExperiment-methods.html">graph</a></span><span class="op">(</span><span class="va">my_experiment</span>, t <span class="op">=</span> <span class="fl">20</span>, options <span class="op">=</span> <span class="va">my_graph_opts</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="calmr_files/figure-html/unnamed-chunk-10-2.png" width="672"></p>
</div>
<div class="section level2">
<h2 id="final-thoughts">Final thoughts<a class="anchor" aria-label="anchor" href="#final-thoughts"></a>
</h2>
<p>The design philosophy behind <code>calmr</code> package revolves
around simplicity and ease of access.</p>
<p>The user only needs to specify a design as well as a model to
generate model predictions. In fact, there is also <a href="calmr_app.html">an app</a> that lets users access the basic
package functionality using a GUI.</p>
<p>That said, the package has plenty of features for more advanced R
users. If you’re one of them, make sure to check the other vignettes
when you are ready.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Victor Navarro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
