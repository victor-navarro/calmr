<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>directional_models • calmr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="directional_models">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">calmr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/calmr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Model reference</h6></li>
    <li><a class="dropdown-item" href="../articles/model_parameters.html">model_parameters</a></li>
    <li><a class="dropdown-item" href="../articles/RW1972.html">RW1972</a></li>
    <li><a class="dropdown-item" href="../articles/MAC1975.html">MAC1975</a></li>
    <li><a class="dropdown-item" href="../articles/PKH1982.html">PKH1982</a></li>
    <li><a class="dropdown-item" href="../articles/SM2007.html">SM2007</a></li>
    <li><a class="dropdown-item" href="../articles/HD2022.html">HD2022</a></li>
    <li><a class="dropdown-item" href="../articles/ANCCR.html">ANCCR</a></li>
    <li><a class="dropdown-item" href="../articles/TD.html">TD</a></li>
    <li><a class="dropdown-item" href="../articles/RAND.html">RAND</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Demos</h6></li>
    <li><a class="dropdown-item" href="../articles/calmr_app.html">calmr_app</a></li>
    <li><a class="dropdown-item" href="../articles/calmr_fits.html">calmr_fits</a></li>
    <li><a class="dropdown-item" href="../articles/parallelism_in_calmr.html">parallelism_in_calmr</a></li>
    <li><a class="dropdown-item" href="../articles/directional_models.html">directional_models</a></li>
    <li><a class="dropdown-item" href="../articles/using_time_models.html">using_time_models</a></li>
    <li><a class="dropdown-item" href="../articles/heidi_similarity.html">heidi_similarity</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/victor-navarro/calmr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>directional_models</h1>
                        <h4 data-toc-skip class="author">Victor
Navarro</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/victor-navarro/calmr/blob/main/vignettes/directional_models.Rmd" class="external-link"><code>vignettes/directional_models.Rmd</code></a></small>
      <div class="d-none name"><code>directional_models.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="the-behaviour-of-directional-models">The behaviour of directional models<a class="anchor" aria-label="anchor" href="#the-behaviour-of-directional-models"></a>
</h2>
<p>Imagine a procedure in which the offset of stimulus A is immediately
followed by the onset of stimulus B. Though it would be reasonable to
assume that the association from A to B might increase, it is not
immediately clear what would happen to the “backward” association (from
B to A).</p>
<p>Though some models propose that in most instances the backward
association will increase <span class="citation">(e.g., Honey, Dwyer,
and Iliescu 2020)</span>, some models propose that the backward
association does not automatically increase. In <code>calmr</code> those
models are called “directional models”. Currently, <code>calmr</code>
deems the following models as directional:</p>
<ul>
<li><a href="RW1972.html">RW1972</a></li>
<li><a href="MAC1975.html">MAC1975</a></li>
<li><a href="PKH1982.html">PKH1982</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="denoting-directional-trials">Denoting directional trials<a class="anchor" aria-label="anchor" href="#denoting-directional-trials"></a>
</h2>
<p>In <code>calmr</code>, we denote directional trials by using the
<code>&gt;</code> symbol between any two (groups) of stimuli. Doing so
tells <code>calmr</code> to parse the trial into trial periods, one
followed after the other. As such, specifying a trial via
<code>1A&gt;B</code> denotes the delivery of one trial in which stimulus
A appears first, and stimulus B appears second. A few variations on that
theme:</p>
<ul>
<li>
<code>1AB</code> denotes a trial in which A and B are simultaneously
presented (note there is no <code>&gt;</code> symbol).</li>
<li>
<code>1AB&gt;B</code> denotes a trial in which A and B are
simultaneously presented in the first period, but only B remains in the
second period.</li>
<li>
<code>1A&gt;B&gt;A</code> denotes a trial in which A is presented
first, followed by B, and then A again.</li>
</ul>
<p>There is technically no limitation in the number of periods one could
specify, but keep in mind that the number of periods will lengthen model
runtime.</p>
</div>
<div class="section level2">
<h2 id="the-behaviour-of-directional-models-1">The behaviour of directional models<a class="anchor" aria-label="anchor" href="#the-behaviour-of-directional-models-1"></a>
</h2>
<p>With the generalization of trials into trial periods,
<code>calmr</code> must choose how associations should be expressed and
learned across periods.</p>
<div class="section level3">
<h3 id="expression">Expression<a class="anchor" aria-label="anchor" href="#expression"></a>
</h3>
<p>For expression, <code>calmr</code> assumes that all of the stimuli in
the trial will <strong>simultaneously</strong> contribute to the net
responding. Thus, both stimuli A and B in a <code>1A&gt;B</code> trial
will contribute to responding, even though they occur at different
times. Similarly, in a <code>1AB&gt;B</code> trial, both A and B will
contribute to responding, but B will contribute only once.</p>
</div>
<div class="section level3">
<h3 id="learning">Learning<a class="anchor" aria-label="anchor" href="#learning"></a>
</h3>
<p>For learning, <code>calmr</code> takes no shortcuts, updating
associations between <strong>adjacent</strong> periods in the
predetermined order these periods appear. Take for example the
<code>1A&gt;B</code> trial above. When using the <a href="RW1972.html">RW1972</a> model <span class="citation">(Rescorla and
Wagner 1972)</span>, we expect A to associate with B, because A is
followed by B. Mechanistically speaking, the association from A to B
strengthens whenever the presentation of A does not generate a strong
enough expectation of the B that immediately follows it.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Internally, we use the stimuli in period p to generate
expectations, and use the &lt;code&gt;union&lt;/code&gt; between the stimuli in
periods p and p+1 as the teaching signal.&lt;/p&gt;"><sup>1</sup></a></p>
<p>It is important to note that the second period of the
<code>A&gt;B</code> trial also undergoes updating. As B is presented, it
might generate expectations if it has any associations with other
stimuli, but, because B is followed by nothing, all of those
associations will undergo extinction<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Although not covered here, you safely can assume that
every “learning” step in directional models behaves similarly,
regardless of whether we update association or other (e.g., attentional)
weights.&lt;/p&gt;"><sup>2</sup></a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="a-simple-example">A simple example<a class="anchor" aria-label="anchor" href="#a-simple-example"></a>
</h2>
<p>To exemplify all of the above, let’s consider how the RW model
behaves under directional and simultaneous trials. We begin by defining
a simple design:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/victor-navarro/calmr" class="external-link">calmr</a></span><span class="op">)</span></span>
<span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Directional"</span>, <span class="st">"Simultaneous"</span><span class="op">)</span>,</span>
<span>  phase1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10A&gt;B"</span>, <span class="st">"10AB"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">parsed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/parse_design.html">parse_design</a></span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">parsed</span><span class="op">)</span></span>
<span><span class="co"># note: periods are recognized internally; see parsed@mapping</span></span></code></pre></div>
<p>Let’s run the model with default parameters and look at the
associations in each group.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parameters.html">get_parameters</a></span><span class="op">(</span><span class="va">parsed</span>, model <span class="op">=</span> <span class="st">"RW1972"</span><span class="op">)</span></span>
<span><span class="va">exp_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_experiment.html">run_experiment</a></span><span class="op">(</span><span class="va">design</span>, parameters <span class="op">=</span> <span class="va">pars</span>, model <span class="op">=</span> <span class="st">"RW1972"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/calmr_model_graph.html">patch_graphs</a></span><span class="op">(</span><span class="fu"><a href="../reference/CalmrExperiment-methods.html">graph</a></span><span class="op">(</span><span class="va">exp_res</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="directional_models_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
<p>As the graphs above show, only the A to B association is positive in
the Directional group, but both the A to B and B to A associations are
positive in the Simultaneous group.</p>
<p>Let’s have a look at the responses.</p>
</div>
<div class="section level2">
<h2 id="a-more-complex-example">A more complex example<a class="anchor" aria-label="anchor" href="#a-more-complex-example"></a>
</h2>
<p>Let’s now consider a design in which stimulus A is followed by a US
in phase 1, but is itself preceded by stimulus B in phase 2 (with no
US). A second group will have the same treatment in phase 1, but B and A
will be presented simultaneously in phase 2. We will also add probe
trials of A (<code>#A</code>) to check how strongly A is associated with
the US in both groups.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Directional"</span>, <span class="st">"Simultaneous"</span><span class="op">)</span>,</span>
<span>  phase1 <span class="op">=</span> <span class="st">"10A&gt;(US)"</span>,</span>
<span>  phase2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10B&gt;A/10#A"</span>, <span class="st">"10BA/10#A"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/parse_design.html">parse_design</a></span><span class="op">(</span><span class="va">design</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parameters.html">get_parameters</a></span><span class="op">(</span><span class="va">design</span>, model <span class="op">=</span> <span class="st">"RW1972"</span><span class="op">)</span></span>
<span><span class="va">exp_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_experiment.html">run_experiment</a></span><span class="op">(</span><span class="va">design</span>, parameters <span class="op">=</span> <span class="va">pars</span>, model <span class="op">=</span> <span class="st">"RW1972"</span><span class="op">)</span></span>
<span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CalmrExperiment-methods.html">plot</a></span><span class="op">(</span><span class="va">exp_res</span>, type <span class="op">=</span> <span class="st">"responses"</span><span class="op">)</span></span>
<span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">plots</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">group</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plotting_options.html">patch_plots</a></span><span class="op">(</span><span class="va">plots</span><span class="op">)</span></span></code></pre></div>
<p><img src="directional_models_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<p>To appreciate the key difference between the two groups, focus on the
middle, topmost panel in each group. Those panels show how much
responding A produces on the probe trials (<code>#A</code>) during phase
2. Each line represents a different target stimulus.</p>
<p>When it comes to US-oriented responses, A in the Directional group
undergoes simple extinction. In <code>B&gt;A</code> trials, A is not
followed by the US. This is not the case for the Simultaneous group. For
that group, the simultaneous nature of AB trials partially protects the
A-US association from extinguishing, by having B acquire an inhibitory
association with the US (see the center, rightmost panel for the
Simultaneous group above).</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Directional models in <code>calmr</code> can have unexpected
behaviours, especially when compared to non-directional models. As such,
you must be careful when specifying the trial periods in your design.
Tinkering is your friend, but if you see any erratic behaviour, please
consider dropping me a line or opening an issue on GitHub.</p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-honey_heidi_2020" class="csl-entry">
Honey, Robert C., Dominic M. Dwyer, and Adela F. Iliescu. 2020.
<span>“<span>HeiDI</span>: <span>A</span> Model for
<span>Pavlovian</span> Learning and Performance with Reciprocal
Associations.”</span> <em>Psychological Review</em> 127 (5): 829–52. <a href="https://doi.org/10.1037/rev0000196" class="external-link">https://doi.org/10.1037/rev0000196</a>.
</div>
<div id="ref-rescorla_theory_1972" class="csl-entry">
Rescorla, Robert A., and A. R. Wagner. 1972. <span>“A Theory of
<span>Pavlovian</span> Conditioning: <span>Variations</span> in the
Effectiveness of Reinforcement and Nonreinforcement.”</span> In
<em>Classical Conditioning <span>II</span>: <span>Current</span>
Research and Theory.</em>, edited by A. H. Black and W. F. Prokasy,
64–69. New York: Appleton-Century-Crofts.
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Victor Navarro.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
